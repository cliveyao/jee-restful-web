{"name":"JEE RESTful Web","tagline":"JEE RESTful Web Services","body":"# JEE RESTful Web Services\r\n\r\nRESTful Web 服务的简单实现，目前实现了注册、认证、用户管理等简单功能。\r\n\r\n# 截图\r\n\r\n![登录界面](http://fh-1.qiniudn.com/jee-restful-web-login.png)\r\n![用户管理界面](http://fh-1.qiniudn.com/jee-restful-web.png)\r\n![行编辑](http://fh-1.qiniudn.com/jee-restful-web-edit-inline.png)\r\n\r\n# 技术\r\n\r\n1. 后端\r\n\r\n    使用Maven构建，主要使用的框架、第三方库\r\n\r\n    * Spring Framework 4.1\r\n    * Apache Shiro 1.2\r\n    * Spring MVC 4.1\r\n    * MyBatis 3.3\r\n    * Alibaba Druid 1.0\r\n    * Ehcache 2.6\r\n    * SLF4J 1.7、Log4j 2.3\r\n    * Spring HATEOAS 0.17\r\n\r\n2. [前端](https://github.com/howiefh/restful-web-app)\r\n\r\n    使用Gulp构建，Bower进行包管理，主要使用的框架、第三方库\r\n\r\n    * AngularJS\r\n    * Bootstrap\r\n    * UI Bootstrap\r\n    * Font Awesome\r\n    * Restangular\r\n    * ocLazyLoad\r\n    * AngularUI Router\r\n    * Angular-sanitize\r\n    * AngularJS ui-select\r\n    * xtform\r\n    * Angular Loading Bar\r\n    * Angular Chart\r\n    * ngTable\r\n    * angular-jwt\r\n    * angular-local-storage\r\n\r\n3. 数据库\r\n\r\n    mysql\r\n\r\n# 安装及运行\r\n\r\n```\r\ngit clone https://github.com/howiefh/jee-restful-web.git\r\ncd jee-restful-web\r\n```\r\n\r\n运行前先导入db目录下的数据库\r\n\r\n之后执行`mvn tomcat7:run`即可\r\n\r\n安装[前端](https://github.com/howiefh/restful-web-app)即可体验目前实现的简单功能\r\n\r\n# [API]\r\n\r\n## 认证\r\n认证使用 Json Web Token，用户登录时提交用户名和密码，认证成功后会返回一个 *access_token*，之后的每次请求都需要在头部 *Authorization* 携带此token。\r\n\r\n## Media Types\r\n使用 [HAL+JSON](https://github.com/mikekelly/hal_specification/blob/master/hal_specification.md) media-type 来表现状态。\r\n\r\n请求使用最基本的JSON格式。\r\n\r\n## 错误状态码\r\n如果发生错误，可能返回以下状态码：\r\n\r\n+ Response 400 请求错误\r\n+ Response 401 未认证\r\n+ Response 404 未找到页面\r\n+ Response 500 服务器错误\r\n\r\n## 注册 [/signup]\r\n通过提交用户名、密码、邮箱可以注册一个账号\r\n\r\n### 注册一个账号 [POST]\r\n通过提交包含 *username* *password* *email* 字段的json数据可以注册一个账号\r\n\r\n+ Request (application/json)\r\n\r\n        {\r\n            \"username\":\"test\",\r\n            \"password\":\"123456\",\r\n            \"email\":\"test@demo.com\"\r\n        }\r\n\r\n+ Response 201\r\n\r\n## 登录 [/login]\r\n通过提交用户名、密码可以登录系统\r\n\r\n### 登录一个账号 [POST]\r\n通过提交包含 *username* *password* 字段的json数据可以登录一个账号\r\n\r\n+ Request (application/json)\r\n\r\n        {\r\n            \"username\":\"test\",\r\n            \"password\":\"123456\"\r\n        }\r\n\r\n+ Response 200\r\n\r\n    + Body\r\n\r\n            {\r\n                \"access_token\": \"json web token\",\r\n                \"user\": {\r\n                    \"id\": 8,\r\n                    \"username\": \"test\",\r\n                    \"roles\": [\"admin\"],\r\n                    \"perms\": [\"user:view\",\"user:update\",\"user:delete\",\"user:create\"]\r\n                }\r\n            }\r\n\r\n## 用户列表 [/users{?page,size,sort}]\r\n获取所有用户列表\r\n\r\n可以有以下参数：\r\n\r\n+ page\r\n+ size\r\n+ sort\r\n\r\n### 获取用户列表 [GET]\r\n获取所有用户列表\r\n\r\n+ Parameters\r\n    + page - 页码，从0开始计数\r\n    + size - 每页显示项数\r\n    + sort - 排序\r\n\r\n+ Request\r\n\r\n    + Headers\r\n\r\n            Authorization: Bearer jwt\r\n\r\n+ Response 200\r\n\r\n    + Headers\r\n\r\n            Etag: \"0c78d24e41fec4bfdfa4e34193ca35bc8\"\r\n\r\n    + Body\r\n\r\n            {\r\n                \"_links\":\r\n                {\r\n                    \"self\":\r\n                    {\r\n                        \"href\": \"http://localhost:8080/jee-restful-web/users?page=0&size=10&sort=id,asc\"\r\n                    },\r\n                    \"next\":\r\n                    {\r\n                        \"href\": \"http://localhost:8080/jee-restful-web/users?page=1&size=10&sort=id,asc\"\r\n                    }\r\n                },\r\n                \"_embedded\":\r\n                {\r\n                    \"api:users\":\r\n                    [\r\n                        {\r\n                            \"id\": 1,\r\n                            \"username\": \"test\",\r\n                            \"email\": \"test@demo.com\",\r\n                            \"mobile\": \"13100000000\",\r\n                            \"locked\": false,\r\n                            \"roles\":\r\n                            [\r\n                                {\r\n                                    \"id\": 1,\r\n                                    \"name\": \"admin\",\r\n                                    \"cnname\": \"管理员\",\r\n                                    \"available\": true,\r\n                                    \"menus\":\r\n                                    [\r\n                                    ]\r\n                                }\r\n                            ],\r\n                            \"organizations\":\r\n                            [\r\n                                {\r\n                                    \"id\": 1,\r\n                                    \"name\": \"总部\",\r\n                                    \"parentId\": 0,\r\n                                    \"parentIds\": \"0\",\r\n                                    \"sort\": 0,\r\n                                    \"isShow\": true\r\n                                }\r\n                            ],\r\n                            \"_links\":\r\n                            {\r\n                                \"self\":\r\n                                {\r\n                                    \"href\": \"http://localhost:8080/jee-restful-web/users/1\"\r\n                                },\r\n                                \"curies\":\r\n                                [\r\n                                    {\r\n                                        \"href\": \"http://localhost/rels/{rel}\",\r\n                                        \"name\": \"api\",\r\n                                        \"templated\": true\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    ]\r\n                },\r\n                \"page\":\r\n                {\r\n                    \"size\": 10,\r\n                    \"totalElements\": 1,\r\n                    \"totalPages\": 1,\r\n                    \"number\": 0\r\n                }\r\n            }\r\n\r\n\r\n### 删除多个用户 [DELETE]\r\n请求内容为将要删除的用户id数组\r\n\r\n+ Request\r\n\r\n    + Headers\r\n\r\n            Authorization: Bearer jwt\r\n\r\n    + Body\r\n\r\n            [1,2]\r\n\r\n+ Response 204\r\n\r\n### 创建用户 [POST]\r\n创建一个新的用户\r\n\r\n+ Request (application/json)\r\n\r\n    + Headers\r\n\r\n            Authorization: Bearer jwt\r\n\r\n    + Body\r\n\r\n            {\r\n                \"username\":\"test\",\r\n                \"email\":\"us@demo.com\",\r\n                \"mobile\":\"13245678901\",\r\n                \"locked\":false,\r\n                \"roles\":[\r\n                    {\r\n                        \"id\":2,\r\n                        \"name\":\"normal_user\"\r\n                    }\r\n                ],\r\n                \"organizations\":[\r\n                    {\r\n                        \"id\":1,\r\n                        \"name\":\"总部\"\r\n                    }\r\n                ]\r\n            }\r\n\r\n+ Response 201\r\n\r\n        {\r\n            \"id\": 1,\r\n            \"username\": \"test\",\r\n            \"email\": \"us@demo.com\",\r\n            \"mobile\": \"13245678901\",\r\n            \"locked\": false,\r\n            \"roles\":\r\n            [\r\n                {\r\n                    \"id\": 2,\r\n                    \"name\": \"normal_user\",\r\n                    \"cnname\": \"普通用户\",\r\n                    \"available\": true,\r\n                    \"menus\":\r\n                    [\r\n                    ]\r\n                }\r\n            ],\r\n            \"organizations\":\r\n            [\r\n                {\r\n                    \"id\": 1,\r\n                    \"name\": \"总部\",\r\n                    \"parentId\": 0,\r\n                    \"parentIds\": \"0\",\r\n                    \"sort\": 0,\r\n                    \"isShow\": true\r\n                }\r\n            ],\r\n            \"_links\":\r\n            {\r\n                \"self\":\r\n                {\r\n                    \"href\": \"http://localhost:8080/jee-restful-web/users/1\"\r\n                },\r\n                \"curies\":\r\n                [\r\n                    {\r\n                        \"href\": \"http://localhost/rels/{rel}\",\r\n                        \"name\": \"api\",\r\n                        \"templated\": true\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n\r\n## 单个用户 [/users/{id}]\r\n获取单个用户\r\n\r\n### 获取单个用户 [GET]\r\n\r\n+ Request\r\n\r\n    + Headers\r\n\r\n            Authorization: Bearer jwt\r\n\r\n+ Response 200\r\n\r\n        {\r\n            \"id\": 1,\r\n            \"username\": \"test\",\r\n            \"email\": \"test@demo.com\",\r\n            \"mobile\": \"13100000000\",\r\n            \"locked\": false,\r\n            \"roles\":\r\n            [\r\n                {\r\n                    \"id\": 1,\r\n                    \"name\": \"admin\",\r\n                    \"cnname\": \"管理员\",\r\n                    \"available\": true,\r\n                    \"menus\":\r\n                    [\r\n                        {\r\n                            \"id\": 5,\r\n                            \"permission\": \"user:delete\"\r\n                        },\r\n                        {\r\n                            \"id\": 4,\r\n                            \"permission\": \"user:update\"\r\n                        },\r\n                        {\r\n                            \"id\": 3,\r\n                            \"permission\": \"user:create\"\r\n                        },\r\n                        {\r\n                            \"id\": 2,\r\n                            \"permission\": \"user:view\"\r\n                        },\r\n                        {\r\n                            \"id\": 1,\r\n                            \"permission\": \"user\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"organizations\":\r\n            [\r\n                {\r\n                    \"id\": 1,\r\n                    \"name\": \"总部\",\r\n                    \"parentId\": 0,\r\n                    \"parentIds\": \"0\",\r\n                    \"sort\": 0,\r\n                    \"isShow\": true\r\n                }\r\n            ],\r\n            \"_links\":\r\n            {\r\n                \"self\":\r\n                {\r\n                    \"href\": \"http://localhost:8080/jee-restful-web/users/1\"\r\n                },\r\n                \"curies\":\r\n                [\r\n                    {\r\n                        \"href\": \"http://localhost/rels/{rel}\",\r\n                        \"name\": \"api\",\r\n                        \"templated\": true\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n\r\n### 更新用户 [PUT]\r\n更新一个用户，可以只提交部分数据\r\n\r\n+ Request (application/json)\r\n\r\n    + Headers\r\n\r\n            Authorization: Bearer jwt\r\n\r\n    + Body\r\n\r\n            {\r\n                \"id\":1,\r\n                \"username\":\"test\",\r\n                \"email\":\"us@demo.com\",\r\n                \"mobile\":\"13245678901\",\r\n                \"locked\":false,\r\n                \"roles\":[\r\n                    {\r\n                        \"id\":2,\r\n                        \"name\":\"normal_user\"\r\n                    }\r\n                ],\r\n                \"organizations\":[\r\n                    {\r\n                        \"id\":1,\r\n                        \"name\":\"总部\"\r\n                    }\r\n                ]\r\n            }\r\n\r\n+ Response 200\r\n\r\n        {\r\n            \"id\": 1,\r\n            \"username\": \"test\",\r\n            \"email\": \"us@demo.com\",\r\n            \"mobile\": \"13245678901\",\r\n            \"locked\": false,\r\n            \"roles\":\r\n            [\r\n                {\r\n                    \"id\": 2,\r\n                    \"name\": \"normal_user\",\r\n                    \"cnname\": \"普通用户\",\r\n                    \"available\": true,\r\n                    \"menus\":\r\n                    [\r\n                    ]\r\n                }\r\n            ],\r\n            \"organizations\":\r\n            [\r\n                {\r\n                    \"id\": 1,\r\n                    \"name\": \"总部\",\r\n                    \"parentId\": 0,\r\n                    \"parentIds\": \"0\",\r\n                    \"sort\": 0,\r\n                    \"isShow\": true\r\n                }\r\n            ],\r\n            \"_links\":\r\n            {\r\n                \"self\":\r\n                {\r\n                    \"href\": \"http://localhost:8080/jee-restful-web/users/1\"\r\n                },\r\n                \"curies\":\r\n                [\r\n                    {\r\n                        \"href\": \"http://localhost/rels/{rel}\",\r\n                        \"name\": \"api\",\r\n                        \"templated\": true\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n\r\n### 删除用户 [DELETE]\r\n+ Response 204\r\n\r\n[API]: http://docs.jeerestfulweb.apiary.io\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}